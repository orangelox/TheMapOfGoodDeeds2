# map_app/management/commands/load_initial_data.py
from django.core.management.base import BaseCommand
from map_app.models import City, NKOCategory

class Command(BaseCommand):
    help = 'Load initial data for cities and categories'

    def handle(self, *args, **options):
        cities_data = [
            ("Ангарск", "Иркутская область", 52.5365, 103.8866),
            ("Байкальск", "Иркутская область", 51.5231, 104.1378),
            ("Балаково", "Саратовская область", 52.0226, 47.7828),
            ("Билибино", "Чукотский АО", 68.0579, 166.4430),
            ("Волгодонск", "Ростовская область", 47.5164, 42.1514),
            ("Глазов", "Удмуртская Республика", 58.1350, 52.6550),
            ("Десногорск", "Смоленская область", 54.1530, 33.2903),
            ("Димитровград", "Ульяновская область", 54.2169, 49.6184),
            ("Железногорск", "Красноярский край", 56.2509, 93.5319),
            ("ЗАТО Заречный", "Пензенская область", 53.2048, 45.1929),
            ("Заречный", "Свердловская область", 56.8105, 61.3250),
            ("Зеленогорск", "Красноярский край", 56.1139, 94.5881),
            ("Краснокаменск", "Забайкальский край", 50.0979, 118.0360),
            ("Курчатов", "Курская область", 51.6603, 35.6572),
            ("Лесной", "Свердловская область", 58.6346, 59.7985),
            ("Неман", "Калининградская область", 55.0311, 22.0324),
            ("Нововоронеж", "Воронежская область", 51.3072, 39.2178),
            ("Новоуральск", "Свердловская область", 57.2472, 60.0958),
            ("Обнинск", "Калужская область", 55.0944, 36.6122),
            ("Озерск", "Челябинская область", 55.7556, 60.7028),
            ("Певек", "Чукотский АО", 69.7015, 170.2996),
            ("Полярные Зори", "Мурманская область", 67.3651, 32.4980),
            ("Саров", "Нижегородская область", 54.9228, 43.3448),
            ("Северск", "Томская область", 56.6031, 84.8808),
            ("Снежинск", "Челябинская область", 56.0850, 60.7325),
            ("Советск", "Калининградская область", 55.0839, 21.8785),
            ("Сосновый Бор", "Ленинградская область", 59.8996, 29.0857),
            ("Трехгорный", "Челябинская область", 54.8150, 58.4592),
            ("Удомля", "Тверская область", 57.8784, 35.0136),
            ("Усолье-Сибирское", "Иркутская область", 52.7516, 103.6450),
            ("Электросталь", "Московская область", 55.7842, 38.4446),
            ("Энергодар", "Запорожская область", 47.4987, 34.6578),
        ]

        categories_data = [
            ("Социальные", "#0055a5"),
            ("Экологические", "#00a550"),
            ("Культурные", "#a500a5"),
            ("Образовательные", "#a5a500"),
            ("Медицинские", "#a50000"),
        ]

        for city_name, region, lat, lon in cities_data:
            City.objects.get_or_create(
                name=city_name,
                region=region,
                defaults={'latitude': lat, 'longitude': lon}
            )
            print(f"✅ Создан город: {city_name} - {lat}, {lon}")

        for category_name, color in categories_data:
            NKOCategory.objects.get_or_create(
                name=category_name,
                defaults={'color': color}
            )
            print(f"✅ Создана категория: {category_name}")

        self.stdout.write(self.style.SUCCESS('Все города и категории успешно созданы с правильными координатами!'))